<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<title><h:outputText value="Creer votre voiture!" /></title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" type="text/css" href="../bootstrap/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css" href="../bootstrap/jquery.mmenu.all.css" />
	<link rel="stylesheet" type="text/css" href="../bootstrap/fonts.css" />
	<link rel="stylesheet" type="text/css" href="../bootstrap/mystyle.css" />
	<script src="../JS/jquery-2.2.0.min.js"></script>
	<script src="../JS/jquery.mmenu.min.all.js"></script>
	<script src="../JS/ent.js"></script>
	<script src="../JS/bootstrap.min.js"></script>
</h:head>

<body id="page">

	<header id="MainBar">
		<div id="LightGreyNav">
			<div class="container clearfix editeurBar">
				<h:outputText value="Lecture WebService" escape="false" />
			</div>
		</div>
	</header>

	<main id="PageContenu" class="container" style="margin-top: 55px">

		<div class="col-sm-12 LeContenu">
			<h1>Configuration d'une voiture</h1>
			
			<h:form id="data">
				<div class="col-md-4 text-left lead">Choix du modele : </div>
				<div class="element1 col-md-4">
					<h:selectOneMenu class="form-control" value="#{configurationVoiture.modeleId}">
							<f:selectItem itemValue="#{null}" itemLabel="--Select--" itemDisabled="true" />
						    <f:selectItems value="#{configurationVoiture.gestModele.modeleTemplate}" var="modele" itemValue="#{modele.id}" itemLabel="#{modele.nom}" />
							<f:ajax event="valueChange" listener ="#{configurationVoiture.updateModeleOnIdChanged}" render="tableau-modele tableau-finition"></f:ajax>
					</h:selectOneMenu>
				</div>
				<h:panelGroup id="tableau-modele">
					<table class="table table-striped gpaTitle chargecenter">
						<tr>
							<th>Nom</th>
							<th>Marque</th>
							<th>Prix</th>	
						</tr>
						<tr>
							<td><h:outputText value="#{configurationVoiture.modele.nom}"/></td>
							<td><h:outputText value="#{configurationVoiture.modele.marque}"/></td>
							<td><h:outputText value="#{configurationVoiture.modele.prix}"/></td>
						</tr>
					</table>		
				</h:panelGroup>
				
				<div class="col-md-4 text-left lead">Choix de la finition : </div>
				<div class="element1 col-md-4">
					<h:selectOneMenu class="form-control" value="#{configurationVoiture.finitionId}">
							<f:selectItem itemValue="#{null}" itemLabel="--Select--" itemDisabled="true" />
						    <f:selectItems value="#{configurationVoiture.gestFinition.finitionTemplate}" var="finit" itemValue="#{finit.id}" itemLabel="#{finit.type}" />
							<f:ajax event="valueChange" listener ="#{configurationVoiture.updateModeleOnIdChanged}" render="tableau-finition"></f:ajax>
					</h:selectOneMenu>
				</div>
				<h:panelGroup id="tableau-finition">
					<table class="table table-striped gpaTitle chargecenter">
						<tr>
							<th>Type de finition</th>
							<th>Prix</th>	
						</tr>
						<tr>
							<td><h:outputText value="#{configurationVoiture.modele.nom}"/></td>
							<td><h:outputText value="#{configurationVoiture.modele.prix}"/></td>
						</tr>
					</table>		
				</h:panelGroup>
			</h:form>	
			
		</div>			
	</main>

</body>
</html>
